{"ast":null,"code":"import _toConsumableArray from\"D:/Code/projects/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:/Code/projects/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Code/projects/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Code/projects/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Code/projects/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";//* Service\nimport React,{Component}from'react';import notify from'helpers/Toast';import{ToastContainer}from'react-toastify';import'../index.css';import{saveToLS}from'helpers/localStorage';import{getFromLS}from'helpers/localStorage';//* Components\nimport Container from'./Container';import SubmitForm from'./SubmitForm';import ContactList from'./ContactList';import Filter from'./Filter';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:_toConsumableArray(_this.props.contacts),filter:''};_this.AddContactOnSubmit=function(data){var contact={name:data.name,number:data.number,id:data.id};if(_this.state.contacts.find(function(contact){return contact.name.toLowerCase()===data.name.toLowerCase();})){notify(data.name);return;}_this.setState(function(preventState){return{contacts:[contact].concat(_toConsumableArray(preventState.contacts))};});};_this.onFilter=function(event){_this.setState({filter:event.currentTarget.value});};_this.getVisibleContacts=function(){var _this$state=_this.state,filter=_this$state.filter,contacts=_this$state.contacts;var normalizedFilter=filter.toLowerCase();return contacts.filter(function(contact){return contact.name.toLowerCase().includes(normalizedFilter);});};_this.deleteContact=function(data){_this.setState(function(prevState){return{contacts:prevState.contacts.filter(function(contact){return contact.id!==data;})};});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){// const contacts = localStorage.getItem('contacts');\n// const parsedContacts = JSON.parse(contacts);\nthis.setState({contacts:getFromLS('contacts')});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.state.contacts!==prevState.contacts){saveToLS('contacts',this.state.contacts);// localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\n}}},{key:\"render\",value:function render(){var filter=this.state.filter;var deleteContact=this.deleteContact,onFilter=this.onFilter,AddContactOnSubmit=this.AddContactOnSubmit;var visibleContacts=this.getVisibleContacts();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Phonebook\"}),/*#__PURE__*/_jsx(SubmitForm,{onSubmit:AddContactOnSubmit}),/*#__PURE__*/_jsx(\"h1\",{children:\"Contacts\"}),/*#__PURE__*/_jsx(Filter,{value:filter,onChange:onFilter}),/*#__PURE__*/_jsx(ContactList,{contacts:visibleContacts,deleteContact:deleteContact}),/*#__PURE__*/_jsx(ToastContainer,{})]});}}]);return App;}(Component);App.defaultProps={contacts:[{id:'id-1',name:'Rosie Simpson',number:'459-12-56'},{id:'id-2',name:'Hermione Kline',number:'443-89-12'},{id:'id-3',name:'Eden Clements',number:'645-17-79'},{id:'id-4',name:'Annie Copeland',number:'227-91-26'}]};export default App;","map":{"version":3,"sources":["D:/Code/projects/goit-react-hw-03-phonebook/src/components/App.js"],"names":["React","Component","notify","ToastContainer","saveToLS","getFromLS","Container","SubmitForm","ContactList","Filter","App","state","contacts","props","filter","AddContactOnSubmit","data","contact","name","number","id","find","toLowerCase","setState","preventState","onFilter","event","currentTarget","value","getVisibleContacts","normalizedFilter","includes","deleteContact","prevState","prevProps","visibleContacts","defaultProps"],"mappings":"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","sourcesContent":["//* Service\r\nimport React, { Component } from 'react';\r\nimport notify from 'helpers/Toast';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport '../index.css';\r\nimport { saveToLS } from 'helpers/localStorage';\r\nimport { getFromLS } from 'helpers/localStorage';\r\n//* Components\r\nimport Container from './Container';\r\nimport SubmitForm from './SubmitForm';\r\nimport ContactList from './ContactList';\r\nimport Filter from './Filter';\r\n\r\nclass App extends Component {\r\n  static defaultProps = {\r\n    contacts: [\r\n      { id: 'id-1', name: 'Rosie Simpson', number: '459-12-56' },\r\n      { id: 'id-2', name: 'Hermione Kline', number: '443-89-12' },\r\n      { id: 'id-3', name: 'Eden Clements', number: '645-17-79' },\r\n      { id: 'id-4', name: 'Annie Copeland', number: '227-91-26' },\r\n    ],\r\n  };\r\n\r\n  state = {\r\n    contacts: [...this.props.contacts],\r\n    filter: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    // const contacts = localStorage.getItem('contacts');\r\n    // const parsedContacts = JSON.parse(contacts);\r\n    this.setState({ contacts: getFromLS('contacts') });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.contacts !== prevState.contacts) {\r\n      saveToLS('contacts', this.state.contacts);\r\n      // localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\r\n    }\r\n  }\r\n\r\n  AddContactOnSubmit = data => {\r\n    const contact = {\r\n      name: data.name,\r\n      number: data.number,\r\n      id: data.id,\r\n    };\r\n\r\n    if (\r\n      this.state.contacts.find(\r\n        contact => contact.name.toLowerCase() === data.name.toLowerCase(),\r\n      )\r\n    ) {\r\n      notify(data.name);\r\n      return;\r\n    }\r\n\r\n    this.setState(preventState => ({\r\n      contacts: [contact, ...preventState.contacts],\r\n    }));\r\n  };\r\n\r\n  onFilter = event => {\r\n    this.setState({ filter: event.currentTarget.value });\r\n  };\r\n\r\n  getVisibleContacts = () => {\r\n    const { filter, contacts } = this.state;\r\n\r\n    const normalizedFilter = filter.toLowerCase();\r\n    return contacts.filter(contact =>\r\n      contact.name.toLowerCase().includes(normalizedFilter),\r\n    );\r\n  };\r\n\r\n  deleteContact = data => {\r\n    this.setState(prevState => ({\r\n      contacts: prevState.contacts.filter(contact => contact.id !== data),\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { filter } = this.state;\r\n    const { deleteContact, onFilter, AddContactOnSubmit } = this;\r\n    const visibleContacts = this.getVisibleContacts();\r\n\r\n    return (\r\n      <Container>\r\n        <h1>Phonebook</h1>\r\n        <SubmitForm onSubmit={AddContactOnSubmit} />\r\n        <h1>Contacts</h1>\r\n        <Filter value={filter} onChange={onFilter} />\r\n        <ContactList contacts={visibleContacts} deleteContact={deleteContact} />\r\n        <ToastContainer />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}