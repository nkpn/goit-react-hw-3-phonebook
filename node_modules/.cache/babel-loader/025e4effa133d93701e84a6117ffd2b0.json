{"ast":null,"code":"import _toConsumableArray from\"D:/Code/projects/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:/Code/projects/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Code/projects/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Code/projects/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Code/projects/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";//* Service\nimport React,{Component}from'react';import notify from'helpers/Toast';import{ToastContainer}from'react-toastify';import'../index.css';import{saveToLS}from'helpers/localStorage';import{getFromLS}from'helpers/localStorage';//* Components\nimport Container from'./Container';import SubmitForm from'./SubmitForm';import ContactList from'./ContactList';import Filter from'./Filter';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:[],filter:''};_this.AddContactOnSubmit=function(data){var contact={name:data.name,number:data.number,id:data.id};if(_this.state.contacts.find(function(contact){return contact.name.toLowerCase()===data.name.toLowerCase();})){notify(data.name);return;}_this.setState(function(preventState){return{contacts:[contact].concat(_toConsumableArray(preventState.contacts))};});};_this.deleteContact=function(data){_this.setState(function(prevState){return{contacts:prevState.contacts.filter(function(contact){return contact.id!==data;})};});};_this.onFilter=function(event){_this.setState({filter:event.currentTarget.value});};_this.getVisibleContacts=function(){var _this$state=_this.state,filter=_this$state.filter,contacts=_this$state.contacts;var normalizedFilter=filter.toLowerCase();return contacts.filter(function(_ref){var name=_ref.name;return name.toLowerCase().includes(normalizedFilter);});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){// const contacts = localStorage.getItem('contacts');\n// const parsedContacts = JSON.parse(contacts);\nthis.setState({contacts:getFromLS('contacts')});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.state.contacts!==prevState.contacts){saveToLS('contacts',this.state.contacts);// localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\n}}},{key:\"render\",value:function render(){var _this$state2=this.state,filter=_this$state2.filter,contacts=_this$state2.contacts;var deleteContact=this.deleteContact,onFilter=this.onFilter,AddContactOnSubmit=this.AddContactOnSubmit;var visibleContacts=this.getVisibleContacts();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Phonebook\"}),/*#__PURE__*/_jsx(SubmitForm,{onSubmit:AddContactOnSubmit}),/*#__PURE__*/_jsx(\"h1\",{children:\"Contacts\"}),contacts.length>=2&&/*#__PURE__*/_jsx(Filter,{value:filter,onChange:onFilter}),/*#__PURE__*/_jsx(ContactList,{contacts:visibleContacts,deleteContact:deleteContact}),/*#__PURE__*/_jsx(ToastContainer,{})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["D:/Code/projects/goit-react-hw-03-phonebook/src/components/App.js"],"names":["React","Component","notify","ToastContainer","saveToLS","getFromLS","Container","SubmitForm","ContactList","Filter","App","state","contacts","filter","AddContactOnSubmit","data","contact","name","number","id","find","toLowerCase","setState","preventState","deleteContact","prevState","onFilter","event","currentTarget","value","getVisibleContacts","normalizedFilter","includes","prevProps","visibleContacts","length"],"mappings":"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","sourcesContent":["//* Service\r\nimport React, { Component } from 'react';\r\nimport notify from 'helpers/Toast';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport '../index.css';\r\nimport { saveToLS } from 'helpers/localStorage';\r\nimport { getFromLS } from 'helpers/localStorage';\r\n//* Components\r\nimport Container from './Container';\r\nimport SubmitForm from './SubmitForm';\r\nimport ContactList from './ContactList';\r\nimport Filter from './Filter';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    contacts: [],\r\n    filter: '',\r\n  };\r\n\r\n  AddContactOnSubmit = data => {\r\n    const contact = {\r\n      name: data.name,\r\n      number: data.number,\r\n      id: data.id,\r\n    };\r\n\r\n    if (\r\n      this.state.contacts.find(\r\n        contact => contact.name.toLowerCase() === data.name.toLowerCase(),\r\n      )\r\n    ) {\r\n      notify(data.name);\r\n      return;\r\n    }\r\n\r\n    this.setState(preventState => ({\r\n      contacts: [contact, ...preventState.contacts],\r\n    }));\r\n  };\r\n\r\n  deleteContact = data => {\r\n    this.setState(prevState => ({\r\n      contacts: prevState.contacts.filter(contact => contact.id !== data),\r\n    }));\r\n  };\r\n\r\n  onFilter = event => {\r\n    this.setState({ filter: event.currentTarget.value });\r\n  };\r\n\r\n  getVisibleContacts = () => {\r\n    const { filter, contacts } = this.state;\r\n    const normalizedFilter = filter.toLowerCase();\r\n\r\n    return contacts.filter(({ name }) =>\r\n      name.toLowerCase().includes(normalizedFilter),\r\n    );\r\n  };\r\n\r\n  componentDidMount() {\r\n    // const contacts = localStorage.getItem('contacts');\r\n    // const parsedContacts = JSON.parse(contacts);\r\n    this.setState({ contacts: getFromLS('contacts') });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.contacts !== prevState.contacts) {\r\n      saveToLS('contacts', this.state.contacts);\r\n      // localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { filter, contacts } = this.state;\r\n    const { deleteContact, onFilter, AddContactOnSubmit } = this;\r\n    const visibleContacts = this.getVisibleContacts();\r\n\r\n    return (\r\n      <Container>\r\n        <h1>Phonebook</h1>\r\n        <SubmitForm onSubmit={AddContactOnSubmit} />\r\n        <h1>Contacts</h1>\r\n        {contacts.length >= 2 && <Filter value={filter} onChange={onFilter} />}\r\n        <ContactList contacts={visibleContacts} deleteContact={deleteContact} />\r\n        <ToastContainer />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}